# GraphQL запросы для Tomorrow School API
# Используйте VS Code GraphQL расширение для выполнения

# Получить информацию о пользователе
query GetUserInfo {
  user {
    id
    login
    profile
    attrs
    createdAt
    campus
  }
}


# Получить ваши результаты
query GetMyResults {
  result(where: {userId: {_eq: 2058}}, limit: 10, order_by: {createdAt: desc}) {
    id
    userId
    objectId
    grade
    createdAt
    object {
      id
      name
      type
      authorId
    }
    user {
      id
      login
      profile
    }
  }
}

# Получить все результаты
query GetAllResults {
  result(limit: 10, order_by: {createdAt: desc}) {
    id
    userId
    objectId
    grade
    createdAt
    object {
      id
      name
      type
      authorId
    }
    user {
      id
      login
      profile
    }
  }
}

# Получить все аудиты с информацией о группах
query GetAllAudits {
    audit(order_by: {createdAt: desc}) {
        id
        grade
        createdAt
        group {
            id
            status
            path
        }
    }
}

# Получить все связи пользователей с группами
query GetAllGroupUsers {
    group_user(order_by: {createdAt: desc}) {
        id
        createdAt
        updatedAt
        group {
            id
            status
            path
            campus
        }
        user {
            id
            login
            campus
        }
    }
}

# Пример запроса для групп
query GetGroups {
    group {
        id
        event {
            id
            path
            object {
                id
                name
                type
                attrs
                createdAt
                updatedAt
                campus
            }
        }
    }
}