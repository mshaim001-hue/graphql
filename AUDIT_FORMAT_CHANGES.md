# Изменения в отображении аудитов

## Что было добавлено

### 1. Новая функция форматирования
Добавлена функция `formatAuditForDisplay(audit)` в `script.js`, которая:
- Извлекает название проекта из `audit.result.object.name` или `audit.attrs`
- Получает автора из `audit.result.object.authorId` или `audit.attrs`
- Определяет статус: `passed` (grade >= 1) или `failed` (grade < 1)
- Форматирует дату в формате M/D/YYYY

### 2. Простой текстовый формат
Добавлена новая секция "Audits in Simple Format" которая отображает аудиты в формате:
```
название проекта - автор проекта - оценка проекта - дата
```

Например:
```
forum - akakharo - failed - 8/11/2025
calculator - john_doe - passed - 7/11/2025
```

### 3. CSS стили
Добавлены стили для нового формата:
- `.audit-simple-format` - контейнер для простого формата
- `.audit-text-list` - моноширинный шрифт для читаемости
- Прокрутка для длинных списков

## Как использовать

1. Откройте `index.html` в браузере
2. Войдите в систему с вашими учетными данными Tomorrow School
3. Перейдите в секцию "Audits & Reviews"
4. Увидите два формата отображения:
   - Простой текстовый формат (новый)
   - Детальный формат с карточками (существующий)

## Технические детали

### GraphQL запрос
Используется существующий запрос:
```graphql
audit(where: {auditorId: {_eq: ${this.userId}}}) {
    id
    grade
    createdAt
    result {
        object {
            name
            authorId
        }
    }
    attrs
}
```

### Обработка данных
- Если есть `result.object` - используется для получения названия и автора
- Если нет - пытается извлечь из `attrs` (JSON)
- Fallback на "Unknown Project" и "Unknown Author"

### Формат даты
Дата форматируется как `M/D/YYYY` (например: 8/11/2025)

## Файлы изменены

1. `script.js` - добавлена функция форматирования и обновлено отображение
2. `styles.css` - добавлены стили для простого формата
3. `audit_format_example.html` - пример отображения (новый файл)
4. `AUDIT_FORMAT_CHANGES.md` - документация изменений (новый файл)
